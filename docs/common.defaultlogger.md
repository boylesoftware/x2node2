<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@x2node/common](./common.md) &gt; [DefaultLogger](./common.defaultlogger.md)

## DefaultLogger class

Default logger service implementation that writes log messages to the console.

<b>Signature:</b>

```typescript
export declare class DefaultLogger implements Logger 
```

## Constructors

|  Constructor | Modifiers | Description |
|  --- | --- | --- |
|  [(constructor)(format, extraVars)](./common.defaultlogger._constructor_.md) |  | Create new logger service instance. |

## Methods

|  Method | Modifiers | Description |
|  --- | --- | --- |
|  [addContext(ctx)](./common.defaultlogger.addcontext.md) |  | Create new logger based on this one and add context to it. |
|  [debug(category)](./common.defaultlogger.debug.md) |  | Get debug logger for the given category. |
|  [error(message, err)](./common.defaultlogger.error.md) |  | Log an application error. |
|  [isDebugEnabled(category)](./common.defaultlogger.isdebugenabled.md) |  | Tell if debug messages are enabled for the specified category. |
|  [writeMessage(isError, message)](./common.defaultlogger.writemessage.md) |  | Write the message to the log output. |

## Remarks

This implementation uses `console.error()` and `console.log()` to output error and debug messages respectively. It is used by default by applications when no other logger service is configured explicitly.

This implementation uses `NODE_DEBUG` environment variable to configure what debug message categories get logged. To enable a given debug log category, the environmant variable, which is a comma-separated list, must include either the exact category name, or category name prefix followed by a star. For the puprpose of the prefix matching, the category names are split at underscores. For example, to enable debug messages for category "X2\_DB\_SQL", the `NODE_DEBUG` must include any of the following: "X2\*", "X2\_DB\*", "X2\_DB\_SQL" or "X2\_DB\_SQL\*". Note also, that `NODE_DEBUG` is case-insensitive.

Another feature of this implementation is configurable log message format, which can be provided to the class constructor. The format string includes variables in curly braces that get replaced by certain values. The following variables are supported by default:

\* \_ts\_ - Message timestamp in ISO format (see `Date.toISOString()`<!-- -->). \* \_pid\_ - The Node process PID (see `process.pid`<!-- -->). \* \_cat\_ - The message category. "ERROR" for error messages. \* \_msg\_ - The message text. \* \_env:VAR\_ - Value of the environment variable, where \_VAR\_ if the variable name (see `process.env`<!-- -->). \* \_ctx\_ - Comma-space-separated list of context values (see [Logger.addContext()](./common.logger.addcontext.md)<!-- -->). The whole list is surrounded by square brackets. \* \_err\_ - Error information for error messages. Includes error stack trace if the error object is an instance of `Error`<!-- -->.

The variable name in a variable placeholder in the format string can be prefixed with a question marks. In that case, if the variable able is empty, the part of the format string preceeding the placeholder up to the previous variable placeholder or the beginning of the format string is omitted. For example, the default format string is "<!-- -->{<!-- -->ts<!-- -->} {<!-- -->?ctx<!-- -->} {<!-- -->cat<!-- -->}<!-- -->: {<!-- -->msg<!-- -->}<!-- -->\\<!-- -->n<!-- -->{<!-- -->?err<!-- -->}<!-- -->".

The constructor also can take definitions for additional message variables not included in the default set (or overriding the defaults).

Also, this implementation can be used as a base class for another logger service implementation. The extended class can override [DefaultLogger.writeMessage()](./common.defaultlogger.writemessage.md) method to provide its own logic for writing log messages.

